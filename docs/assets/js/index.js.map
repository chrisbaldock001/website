{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/analytics/stats.js","assets/js/components/navigation.js","assets/js/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var map;\n\nexports.initMap = function initMap() {\n\n  var myStyle = {\n\t\"color\": \"#ff7800\",\n\t\"weight\": 5,\n\t\"opacity\": 0.65\n  };\n\n  map = L.map('map').setView([0.0, 0.0], 2);\n  L.tileLayer( 'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {\n    attribution: 'Map tiles by <a href=\"https://carto.com/\">Carto</a>, under <a href=\"https://creativecommons.org/licenses/by/3.0/\">CC BY 3.0.</a> Data by <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>, under ODbL.',\n    subdomains: ['a','b','c']\n  }).addTo( map );\n  console.log('added map');\n  var projectCentroidsUrl = 'https://apps.mapswipe.org/api/projects/projects_centroid.geojson';\n  setTimeout(function(){ map.invalidateSize()}, 400);\n  addGeojsonLayer(projectCentroidsUrl);\n\n  // add legend\n  addLegend()\n\n}\n\nfunction addLegend() {\n  var legend = L.control({position: 'topright'});\n  legend.onAdd = function (map) {\n\tvar div = L.DomUtil.create('div', 'info legend')\n\tdiv.innerHTML += '<i style=\"background:orange\"></i>active<br>'\n\tdiv.innerHTML += '<i style=\"background:blue\"></i>finished<br>'\n\tdiv.innerHTML += '<i style=\"background:grey\"></i>inactive<br>'\n\treturn div;\n  };\n  legend.addTo(map);\n}\n\nfunction addGeojsonLayer (url) {\n  var geojsonData = $.ajax({\n    url:url,\n    dataType: \"json\",\n    success: console.log(\"mapswipe project centroids data successfully loaded.\"),\n    error: function (xhr) {\n      alert(xhr.statusText)\n    }\n  })\n  // Specify that this code should run once the county data request is complete\n  $.when(geojsonData).done(function() {\n\n    // define default point style\n    var geojsonMarkerGreen = {\n        radius: 6,\n        fillColor: \"grey\",\n        color: \"white\",\n        weight: 1,\n        opacity: 1,\n        fillOpacity: 0.8\n    };\n\n    // create geojson layer\n    var layer = L.geoJSON(geojsonData.responseJSON, {\n        pointToLayer: function (feature, latlng) {\n            return L.circleMarker(latlng, geojsonMarkerGreen);\n        }\n    })\n\n    // set style based on feature properties\n    layer.setStyle(function(feature) {\n        if (feature.properties.status == 'active') {\n            return {fillColor: 'orange', color:'black', radius: 9}\n        } else if (feature.properties.status == 'finished') {\n            return {fillColor: 'blue'}\n        } else  if (feature.properties.status == 'inactive') {\n            return {fillColor: 'grey'}\n        }\n    }).addTo(map)\n\n    // add a popup\n    layer.bindPopup(function (layer) {\n        // popup with a link to the project page with detailed information\n        popup = '<a href=\"project.html?projectId='+layer.feature.properties.project_id+'\">'+layer.feature.properties.name+'</a>'\n        return popup;\n    });\n\n    // fit to layer extent\n    map.fitBounds(layer.getBounds());\n\n    // add data to projects table\n    populateProjectsTable(geojsonData.responseJSON);\n\n    // add overview stats\n    var finishedProjects = geojsonData.responseJSON.features.filter(function(item) {\n        return item['properties']['status'] == 'finished' | item['properties']['status'] == 'archived'\n    })\n\n    var mappedArea = 0.0\n    for (var i = 0; i < finishedProjects.length; i++) {\n      var projectArea = parseFloat(finishedProjects[i]['properties']['area_sqkm'])\n      if (projectArea > 0) {\n        mappedArea += projectArea\n        }\n      }\n\n    document.getElementById('stats-finished-projects').innerHTML = finishedProjects.length\n    // convert to broken up numbers\n    document.getElementById('stats-mapped-area').innerHTML = (parseInt(mappedArea/1000)*1000).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n  })\n\n}\n\nfunction populateProjectsTable(geojsonData) {\n  console.log('added projects')\n\n  var tableRef = document.getElementById('projectsTable').getElementsByTagName('tbody')[0];\n\n  geojsonData.features.forEach(function(element) {\n\n    var tr = tableRef.insertRow();\n\n    var td = document.createElement('td')\n    td.innerHTML = '<a href=\"project.html?projectId='+element.properties.project_id+'\">'+element.properties.name+'</a>'\n    tr.appendChild(td)\n\n    td = document.createElement('td')\n    td.innerHTML = element.properties.status\n    tr.appendChild(td)\n\n    //Third column removed - project progress\n    // td = document.createElement('td')\n    // if (element.properties.progress > 0) {\n    //     td.innerHTML = Math.round(100*element.properties.progress)+'%'\n    // } else {\n    //     td.innerHTML = 'not available'\n    // }\n    tr.appendChild(td)\n\n    //Forth column removed - number of users\n    // td = document.createElement('td')\n    // if (parseInt(element.properties.number_of_users) > 0) {\n    //     td.innerHTML = element.properties.number_of_users\n    // } else {\n    //     td.innerHTML = 'not available'\n    // }\n\n    tr.appendChild(td)\n  });\n\n  $('#projectsTable').DataTable();\n  $('.dataTables_length').addClass('bs-select');\n\n}\n","'use strict'\n\nexport default class Navigation {\n    constructor(element) {\n        this.root = element;\n\n        this.bindEvents();\n    }\n\n    toggleNav(e) {\n        var icon = e.currentTarget;\n        var mobileMenu = e.currentTarget.parentNode.parentNode;\n\n        (mobileMenu.classList.contains('active')) ? this.closeNav(icon, mobileMenu): this.openNav(icon, mobileMenu);\n    }\n\n    openNav(icon, mobileMenu) {\n        mobileMenu.classList.add('active');\n        icon.classList.add('active');\n        document.querySelector('body').classList.add('menu-active');\n\n        // mobileMenu.querySelector('.navlink:first-child').focus();\n    }\n\n    closeNav(icon, mobileMenu) {\n        mobileMenu.classList.remove('active');\n        icon.classList.remove('active');\n        document.querySelector('body').classList.remove('menu-active');\n    }\n\n    bindEvents() {\n        this.root.addEventListener('click', this.toggleNav.bind(this));\n    }\n}","'use strict';\n\nimport Navigation from './components/navigation.js';\nimport {initMap} from './analytics/stats.js';\n\nlet html = document.querySelector('html');\nlet isMobile = false;\nlet resizeId;  \n// let menu = new Navigation(document.querySelector('.navigation'));\n\nif (html.classList.contains('mobile')) {        \n    isMobile = true;\n}\n\nif (html.querySelector('#year')) {\n    var theDate = new Date();\n    html.querySelector('#year').innerHTML =theDate.getFullYear();\n}\n\nif (html.querySelector('.burger-menu')) {\n    new Navigation(html.querySelector('.burger-menu'));\n}\n\n// Basic classes to add relevant classes to html tag\nfunction classRemove(element, classes) {\n    classes.forEach(function (clas) {\n        element.classList.remove(clas);\n    });\n}\n\nfunction viewport() {\n    var width = document.body.clientWidth,\n        viewport = 'default';\n\n    if (width >= 1344) {\n        viewport = 'desktop-wide';\n\n    }\n    if (width < 1344) {\n        viewport = 'desktop-compact';\n\n    }\n    if (width < 1024) {\n        viewport = 'tablet-portrait';\n\n    }\n    if (width < 768) {\n        viewport = 'mobile-landscape';\n\n    }\n    if (width < 481) {\n        viewport = 'mobile-portrait';\n\n    }\n\n    classRemove(html, ['default', 'desktop-compact', 'tablet-portrait', 'mobile-landscape', 'mobile-portrait']);\n    html.classList.add(viewport);\n\n    return viewport;\n}\n\nfunction touchEnabled() {\n    if ('ontouchstart' in window || 'onmsgesturechange' in window) {\n        html.classList.add('touchenabled');\n        return true;\n    }\n    html.classList.remove('touchenabled');\n    return false;\n}\n\nfunction device() {\n    var device = 'desktop';\n    switch (viewport()) {\n        case 'desktop-compact':\n            device = 'desktop';\n            if (touchEnabled()) {\n                device = 'tablet';\n            }\n            break;\n        case 'tablet-portrait':\n            device = 'tablet';\n            break;\n        case 'mobile-landscape':\n        case 'mobile-portrait':\n            device = 'mobile';\n            break;\n    }\n    classRemove(html, ['mobile', 'tablet', 'tablet-portrait', 'desktop']);\n    html.classList.add(device);\n\n    return device;\n}\n\nfunction doneResizing(){\n    device();\n    viewport();\n\n    let wasMobile = isMobile;\n\n    html.classList.contains('mobile') ? isMobile = true : isMobile = false;\n\n    if (wasMobile != isMobile) {\n        // isMobile ? menu.closeDesktopSearch() : menu.closeMobileMenu();\n    }\n}\n\n// Basic functions to add relevant classes to html tag\nviewport();\ndevice();\ntouchEnabled();     \n\nwindow.addEventListener('resize', function(){\n    clearTimeout(resizeId);\n    resizeId = setTimeout(doneResizing, 500);\n});\n\nwindow.initMap = initMap;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYW5hbHl0aWNzL3N0YXRzLmpzIiwiYXNzZXRzL2pzL2NvbXBvbmVudHMvbmF2aWdhdGlvbi5qcyIsImFzc2V0cy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxHQUFKOztBQUVBLFFBQVEsT0FBUixHQUFrQixTQUFTLE9BQVQsR0FBbUI7O0FBRW5DLE1BQUksVUFBVTtBQUNmLGFBQVMsU0FETTtBQUVmLGNBQVUsQ0FGSztBQUdmLGVBQVc7QUFISSxHQUFkOztBQU1BLFFBQU0sRUFBRSxHQUFGLENBQU0sS0FBTixFQUFhLE9BQWIsQ0FBcUIsQ0FBQyxHQUFELEVBQU0sR0FBTixDQUFyQixFQUFpQyxDQUFqQyxDQUFOO0FBQ0EsSUFBRSxTQUFGLENBQWEsOEVBQWIsRUFBNkY7QUFDM0YsaUJBQWEsMk5BRDhFO0FBRTNGLGdCQUFZLENBQUMsR0FBRCxFQUFLLEdBQUwsRUFBUyxHQUFUO0FBRitFLEdBQTdGLEVBR0csS0FISCxDQUdVLEdBSFY7QUFJQSxVQUFRLEdBQVIsQ0FBWSxXQUFaO0FBQ0EsTUFBSSxzQkFBc0Isa0VBQTFCO0FBQ0EsYUFBVyxZQUFVO0FBQUUsUUFBSSxjQUFKO0FBQXFCLEdBQTVDLEVBQThDLEdBQTlDO0FBQ0Esa0JBQWdCLG1CQUFoQjs7QUFFQTtBQUNBO0FBRUQsQ0FyQkQ7O0FBdUJBLFNBQVMsU0FBVCxHQUFxQjtBQUNuQixNQUFJLFNBQVMsRUFBRSxPQUFGLENBQVUsRUFBQyxVQUFVLFVBQVgsRUFBVixDQUFiO0FBQ0EsU0FBTyxLQUFQLEdBQWUsVUFBVSxHQUFWLEVBQWU7QUFDL0IsUUFBSSxNQUFNLEVBQUUsT0FBRixDQUFVLE1BQVYsQ0FBaUIsS0FBakIsRUFBd0IsYUFBeEIsQ0FBVjtBQUNBLFFBQUksU0FBSixJQUFpQiw2Q0FBakI7QUFDQSxRQUFJLFNBQUosSUFBaUIsNkNBQWpCO0FB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LGNBQW5CO0FBQ0EsZUFBTyxJQUFQO0FBQ0g7QUFDRCxTQUFLLFNBQUwsQ0FBZSxNQUFmLENBQXNCLGNBQXRCO0FBQ0EsV0FBTyxLQUFQO0FBQ0g7O0FBRUQsU0FBUyxNQUFULEdBQWtCO0FBQ2QsUUFBSSxTQUFTLFNBQWI7QUFDQSxZQUFRLFVBQVI7QUFDSSxhQUFLLGlCQUFMO0FBQ0kscUJBQVMsU0FBVDtBQUNBLGdCQUFJLGNBQUosRUFBb0I7QUFDaEIseUJBQVMsUUFBVDtBQUNIO0FBQ0Q7QUFDSixhQUFLLGlCQUFMO0FBQ0kscUJBQVMsUUFBVDtBQUNBO0FBQ0osYUFBSyxrQkFBTDtBQUNBLGFBQUssaUJBQUw7QUFDSSxxQkFBUyxRQUFUO0FBQ0E7QUFiUjtBQWVBLGdCQUFZLElBQVosRUFBa0IsQ0FBQyxRQUFELEVBQVcsUUFBWCxFQUFxQixpQkFBckIsRUFBd0MsU0FBeEMsQ0FBbEI7QUFDQSxTQUFLLFNBQUwsQ0FBZSxHQUFmLENBQW1CLE1BQW5COztBQUVBLFdBQU8sTUFBUDtBQUNIOztBQUVELFNBQVMsWUFBVCxHQUF1QjtBQUNuQjtBQUNBOztBQUVBLFFBQUksWUFBWSxRQUFoQjs7QUFFQSxTQUFLLFNBQUwsQ0FBZSxRQUFmLENBQXdCLFFBQXhCLElBQW9DLFdBQVcsSUFBL0MsR0FBc0QsV0FBVyxLQUFqRTs7QUFFQSxRQUFJLGFBQWEsUUFBakIsRUFBMkI7QUFDdkI7QUFDSDtBQUNKOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsWUFBVTtBQUN4QyxpQkFBYSxRQUFiO0FBQ0EsZUFBVyxXQUFXLFlBQVgsRUFBeUIsR0FBekIsQ0FBWDtBQUNILENBSEQ7O0FBS0EsT0FBTyxPQUFQLEdBQWlCLGNBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwidmFyIG1hcDtcblxuZXhwb3J0cy5pbml0TWFwID0gZnVuY3Rpb24gaW5pdE1hcCgpIHtcblxuICB2YXIgbXlTdHlsZSA9IHtcblx0XCJjb2xvclwiOiBcIiNmZjc4MDBcIixcblx0XCJ3ZWlnaHRcIjogNSxcblx0XCJvcGFjaXR5XCI6IDAuNjVcbiAgfTtcblxuICBtYXAgPSBMLm1hcCgnbWFwJykuc2V0VmlldyhbMC4wLCAwLjBdLCAyKTtcbiAgTC50aWxlTGF5ZXIoICdodHRwczovL2NhcnRvZGItYmFzZW1hcHMte3N9Lmdsb2JhbC5zc2wuZmFzdGx5Lm5ldC9saWdodF9hbGwve3p9L3t4fS97eX0ucG5nJywge1xuICAgIGF0dHJpYnV0aW9uOiAnTWFwIHRpbGVzIGJ5IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9cIj5DYXJ0bzwvYT4sIHVuZGVyIDxhIGhyZWY9XCJodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvMy4wL1wiPkNDIEJZIDMuMC48L2E+IERhdGEgYnkgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+LCB1bmRlciBPRGJMLicsXG4gICAgc3ViZG9tYWluczogWydhJywnYicsJ2MnXVxuICB9KS5hZGRUbyggbWFwICk7XG4gIGNvbnNvbGUubG9nKCdhZGRlZCBtYXAnKTtcbiAgdmFyIHByb2plY3RDZW50cm9pZHNVcmwgPSAnaHR0cHM6Ly9hcHBzLm1hcHN3aXBlLm9yZy9hcGkvcHJvamVjdHMvcHJvamVjdHNfY2VudHJvaWQuZ2VvanNvbic7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgbWFwLmludmFsaWRhdGVTaXplKCl9LCA0MDApO1xuICBhZGRHZW9qc29uTGF5ZXIocHJvamVjdENlbnRyb2lkc1VybCk7XG5cbiAgLy8gYWRkIGxlZ2VuZFxuICBhZGRMZWdlbmQoKVxuXG59XG5cbmZ1bmN0aW9uIGFkZExlZ2VuZCgpIHtcbiAgdmFyIGxlZ2VuZCA9IEwuY29udHJvbCh7cG9zaXRpb246ICd0b3ByaWdodCd9KTtcbiAgbGVnZW5kLm9uQWRkID0gZnVuY3Rpb24gKG1hcCkge1xuXHR2YXIgZGl2ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2luZm8gbGVnZW5kJylcblx0ZGl2LmlubmVySFRNTCArPSAnPGkgc3R5bGU9XCJiYWNrZ3JvdW5kOm9yYW5nZVwiPjwvaT5hY3RpdmU8YnI+J1xuXHRkaXYuaW5uZXJIVE1MICs9ICc8aSBzdHlsZT1cImJhY2tncm91bmQ6Ymx1ZVwiPjwvaT5maW5pc2hlZDxicj4nXG5cdGRpdi5pbm5lckhUTUwgKz0gJzxpIHN0eWxlPVwiYmFja2dyb3VuZDpncmV5XCI+PC9pPmluYWN0aXZlPGJyPidcblx0cmV0dXJuIGRpdjtcbiAgfTtcbiAgbGVnZW5kLmFkZFRvKG1hcCk7XG59XG5cbmZ1bmN0aW9uIGFkZEdlb2pzb25MYXllciAodXJsKSB7XG4gIHZhciBnZW9qc29uRGF0YSA9ICQuYWpheCh7XG4gICAgdXJsOnVybCxcbiAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgc3VjY2VzczogY29uc29sZS5sb2coXCJtYXBzd2lwZSBwcm9qZWN0IGNlbnRyb2lkcyBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXCIpLFxuICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICBhbGVydCh4aHIuc3RhdHVzVGV4dClcbiAgICB9XG4gIH0pXG4gIC8vIFNwZWNpZnkgdGhhdCB0aGlzIGNvZGUgc2hvdWxkIHJ1biBvbmNlIHRoZSBjb3VudHkgZGF0YSByZXF1ZXN0IGlzIGNvbXBsZXRlXG4gICQud2hlbihnZW9qc29uRGF0YSkuZG9uZShmdW5jdGlvbigpIHtcblxuICAgIC8vIGRlZmluZSBkZWZhdWx0IHBvaW50IHN0eWxlXG4gICAgdmFyIGdlb2pzb25NYXJrZXJHcmVlbiA9IHtcbiAgICAgICAgcmFkaXVzOiA2LFxuICAgICAgICBmaWxsQ29sb3I6IFwiZ3JleVwiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICB3ZWlnaHQ6IDEsXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGZpbGxPcGFjaXR5OiAwLjhcbiAgICB9O1xuXG4gICAgLy8gY3JlYXRlIGdlb2pzb24gbGF5ZXJcbiAgICB2YXIgbGF5ZXIgPSBMLmdlb0pTT04oZ2VvanNvbkRhdGEucmVzcG9uc2VKU09OLCB7XG4gICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgICAgcmV0dXJuIEwuY2lyY2xlTWFya2VyKGxhdGxuZywgZ2VvanNvbk1hcmtlckdyZWVuKTtcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBzZXQgc3R5bGUgYmFzZWQgb24gZmVhdHVyZSBwcm9wZXJ0aWVzXG4gICAgbGF5ZXIuc2V0U3R5bGUoZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXR1cyA9PSAnYWN0aXZlJykge1xuICAgICAgICAgICAgcmV0dXJuIHtmaWxsQ29sb3I6ICdvcmFuZ2UnLCBjb2xvcjonYmxhY2snLCByYWRpdXM6IDl9XG4gICAgICAgIH0gZWxzZSBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXR1cyA9PSAnZmluaXNoZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4ge2ZpbGxDb2xvcjogJ2JsdWUnfVxuICAgICAgICB9IGVsc2UgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMuc3RhdHVzID09ICdpbmFjdGl2ZScpIHtcbiAgICAgICAgICAgIHJldHVybiB7ZmlsbENvbG9yOiAnZ3JleSd9XG4gICAgICAgIH1cbiAgICB9KS5hZGRUbyhtYXApXG5cbiAgICAvLyBhZGQgYSBwb3B1cFxuICAgIGxheWVyLmJpbmRQb3B1cChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgLy8gcG9wdXAgd2l0aCBhIGxpbmsgdG8gdGhlIHByb2plY3QgcGFnZSB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uXG4gICAgICAgIHBvcHVwID0gJzxhIGhyZWY9XCJwcm9qZWN0Lmh0bWw/cHJvamVjdElkPScrbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnByb2plY3RfaWQrJ1wiPicrbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLm5hbWUrJzwvYT4nXG4gICAgICAgIHJldHVybiBwb3B1cDtcbiAgICB9KTtcblxuICAgIC8vIGZpdCB0byBsYXllciBleHRlbnRcbiAgICBtYXAuZml0Qm91bmRzKGxheWVyLmdldEJvdW5kcygpKTtcblxuICAgIC8vIGFkZCBkYXRhIHRvIHByb2plY3RzIHRhYmxlXG4gICAgcG9wdWxhdGVQcm9qZWN0c1RhYmxlKGdlb2pzb25EYXRhLnJlc3BvbnNlSlNPTik7XG5cbiAgICAvLyBhZGQgb3ZlcnZpZXcgc3RhdHNcbiAgICB2YXIgZmluaXNoZWRQcm9qZWN0cyA9IGdlb2pzb25EYXRhLnJlc3BvbnNlSlNPTi5mZWF0dXJlcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbVsncHJvcGVydGllcyddWydzdGF0dXMnXSA9PSAnZmluaXNoZWQnIHwgaXRlbVsncHJvcGVydGllcyddWydzdGF0dXMnXSA9PSAnYXJjaGl2ZWQnXG4gICAgfSlcblxuICAgIHZhciBtYXBwZWRBcmVhID0gMC4wXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5pc2hlZFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcHJvamVjdEFyZWEgPSBwYXJzZUZsb2F0KGZpbmlzaGVkUHJvamVjdHNbaV1bJ3Byb3BlcnRpZXMnXVsnYXJlYV9zcWttJ10pXG4gICAgICBpZiAocHJvamVjdEFyZWEgPiAwKSB7XG4gICAgICAgIG1hcHBlZEFyZWEgKz0gcHJvamVjdEFyZWFcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRzLWZpbmlzaGVkLXByb2plY3RzJykuaW5uZXJIVE1MID0gZmluaXNoZWRQcm9qZWN0cy5sZW5ndGhcbiAgICAvLyBjb252ZXJ0IHRvIGJyb2tlbiB1cCBudW1iZXJzXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRzLW1hcHBlZC1hcmVhJykuaW5uZXJIVE1MID0gKHBhcnNlSW50KG1hcHBlZEFyZWEvMTAwMCkqMTAwMCkudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIiBcIik7XG4gIH0pXG5cbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVQcm9qZWN0c1RhYmxlKGdlb2pzb25EYXRhKSB7XG4gIGNvbnNvbGUubG9nKCdhZGRlZCBwcm9qZWN0cycpXG5cbiAgdmFyIHRhYmxlUmVmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzVGFibGUnKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGJvZHknKVswXTtcblxuICBnZW9qc29uRGF0YS5mZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIHZhciB0ciA9IHRhYmxlUmVmLmluc2VydFJvdygpO1xuXG4gICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgIHRkLmlubmVySFRNTCA9ICc8YSBocmVmPVwicHJvamVjdC5odG1sP3Byb2plY3RJZD0nK2VsZW1lbnQucHJvcGVydGllcy5wcm9qZWN0X2lkKydcIj4nK2VsZW1lbnQucHJvcGVydGllcy5uYW1lKyc8L2E+J1xuICAgIHRyLmFwcGVuZENoaWxkKHRkKVxuXG4gICAgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgdGQuaW5uZXJIVE1MID0gZWxlbWVudC5wcm9wZXJ0aWVzLnN0YXR1c1xuICAgIHRyLmFwcGVuZENoaWxkKHRkKVxuXG4gICAgLy9UaGlyZCBjb2x1bW4gcmVtb3ZlZCAtIHByb2plY3QgcHJvZ3Jlc3NcbiAgICAvLyB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAvLyBpZiAoZWxlbWVudC5wcm9wZXJ0aWVzLnByb2dyZXNzID4gMCkge1xuICAgIC8vICAgICB0ZC5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKDEwMCplbGVtZW50LnByb3BlcnRpZXMucHJvZ3Jlc3MpKyclJ1xuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICAgIHRkLmlubmVySFRNTCA9ICdub3QgYXZhaWxhYmxlJ1xuICAgIC8vIH1cbiAgICB0ci5hcHBlbmRDaGlsZCh0ZClcblxuICAgIC8vRm9ydGggY29sdW1uIHJlbW92ZWQgLSBudW1iZXIgb2YgdXNlcnNcbiAgICAvLyB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAvLyBpZiAocGFyc2VJbnQoZWxlbWVudC5wcm9wZXJ0aWVzLm51bWJlcl9vZl91c2VycykgPiAwKSB7XG4gICAgLy8gICAgIHRkLmlubmVySFRNTCA9IGVsZW1lbnQucHJvcGVydGllcy5udW1iZXJfb2ZfdXNlcnNcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgICB0ZC5pbm5lckhUTUwgPSAnbm90IGF2YWlsYWJsZSdcbiAgICAvLyB9XG5cbiAgICB0ci5hcHBlbmRDaGlsZCh0ZClcbiAgfSk7XG5cbiAgJCgnI3Byb2plY3RzVGFibGUnKS5EYXRhVGFibGUoKTtcbiAgJCgnLmRhdGFUYWJsZXNfbGVuZ3RoJykuYWRkQ2xhc3MoJ2JzLXNlbGVjdCcpO1xuXG59XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnJvb3QgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIH1cblxuICAgIHRvZ2dsZU5hdihlKSB7XG4gICAgICAgIHZhciBpY29uID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICB2YXIgbW9iaWxlTWVudSA9IGUuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG5cbiAgICAgICAgKG1vYmlsZU1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgPyB0aGlzLmNsb3NlTmF2KGljb24sIG1vYmlsZU1lbnUpOiB0aGlzLm9wZW5OYXYoaWNvbiwgbW9iaWxlTWVudSk7XG4gICAgfVxuXG4gICAgb3Blbk5hdihpY29uLCBtb2JpbGVNZW51KSB7XG4gICAgICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCdtZW51LWFjdGl2ZScpO1xuXG4gICAgICAgIC8vIG1vYmlsZU1lbnUucXVlcnlTZWxlY3RvcignLm5hdmxpbms6Zmlyc3QtY2hpbGQnKS5mb2N1cygpO1xuICAgIH1cblxuICAgIGNsb3NlTmF2KGljb24sIG1vYmlsZU1lbnUpIHtcbiAgICAgICAgbW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgYmluZEV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVOYXYuYmluZCh0aGlzKSk7XG4gICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24uanMnO1xuaW1wb3J0IHtpbml0TWFwfSBmcm9tICcuL2FuYWx5dGljcy9zdGF0cy5qcyc7XG5cbmxldCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpO1xubGV0IGlzTW9iaWxlID0gZmFsc2U7XG5sZXQgcmVzaXplSWQ7ICBcbi8vIGxldCBtZW51ID0gbmV3IE5hdmlnYXRpb24oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24nKSk7XG5cbmlmIChodG1sLmNsYXNzTGlzdC5jb250YWlucygnbW9iaWxlJykpIHsgICAgICAgIFxuICAgIGlzTW9iaWxlID0gdHJ1ZTtcbn1cblxuaWYgKGh0bWwucXVlcnlTZWxlY3RvcignI3llYXInKSkge1xuICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUoKTtcbiAgICBodG1sLnF1ZXJ5U2VsZWN0b3IoJyN5ZWFyJykuaW5uZXJIVE1MID10aGVEYXRlLmdldEZ1bGxZZWFyKCk7XG59XG5cbmlmIChodG1sLnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItbWVudScpKSB7XG4gICAgbmV3IE5hdmlnYXRpb24oaHRtbC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW1lbnUnKSk7XG59XG5cbi8vIEJhc2ljIGNsYXNzZXMgdG8gYWRkIHJlbGV2YW50IGNsYXNzZXMgdG8gaHRtbCB0YWdcbmZ1bmN0aW9uIGNsYXNzUmVtb3ZlKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBjbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNsYXMpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXMpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB2aWV3cG9ydCgpIHtcbiAgICB2YXIgd2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLFxuICAgICAgICB2aWV3cG9ydCA9ICdkZWZhdWx0JztcblxuICAgIGlmICh3aWR0aCA+PSAxMzQ0KSB7XG4gICAgICAgIHZpZXdwb3J0ID0gJ2Rlc2t0b3Atd2lkZSc7XG5cbiAgICB9XG4gICAgaWYgKHdpZHRoIDwgMTM0NCkge1xuICAgICAgICB2aWV3cG9ydCA9ICdkZXNrdG9wLWNvbXBhY3QnO1xuXG4gICAgfVxuICAgIGlmICh3aWR0aCA8IDEwMjQpIHtcbiAgICAgICAgdmlld3BvcnQgPSAndGFibGV0LXBvcnRyYWl0JztcblxuICAgIH1cbiAgICBpZiAod2lkdGggPCA3NjgpIHtcbiAgICAgICAgdmlld3BvcnQgPSAnbW9iaWxlLWxhbmRzY2FwZSc7XG5cbiAgICB9XG4gICAgaWYgKHdpZHRoIDwgNDgxKSB7XG4gICAgICAgIHZpZXdwb3J0ID0gJ21vYmlsZS1wb3J0cmFpdCc7XG5cbiAgICB9XG5cbiAgICBjbGFzc1JlbW92ZShodG1sLCBbJ2RlZmF1bHQnLCAnZGVza3RvcC1jb21wYWN0JywgJ3RhYmxldC1wb3J0cmFpdCcsICdtb2JpbGUtbGFuZHNjYXBlJywgJ21vYmlsZS1wb3J0cmFpdCddKTtcbiAgICBodG1sLmNsYXNzTGlzdC5hZGQodmlld3BvcnQpO1xuXG4gICAgcmV0dXJuIHZpZXdwb3J0O1xufVxuXG5mdW5jdGlvbiB0b3VjaEVuYWJsZWQoKSB7XG4gICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAnb25tc2dlc3R1cmVjaGFuZ2UnIGluIHdpbmRvdykge1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ3RvdWNoZW5hYmxlZCcpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaHRtbC5jbGFzc0xpc3QucmVtb3ZlKCd0b3VjaGVuYWJsZWQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGRldmljZSgpIHtcbiAgICB2YXIgZGV2aWNlID0gJ2Rlc2t0b3AnO1xuICAgIHN3aXRjaCAodmlld3BvcnQoKSkge1xuICAgICAgICBjYXNlICdkZXNrdG9wLWNvbXBhY3QnOlxuICAgICAgICAgICAgZGV2aWNlID0gJ2Rlc2t0b3AnO1xuICAgICAgICAgICAgaWYgKHRvdWNoRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgZGV2aWNlID0gJ3RhYmxldCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGFibGV0LXBvcnRyYWl0JzpcbiAgICAgICAgICAgIGRldmljZSA9ICd0YWJsZXQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vYmlsZS1sYW5kc2NhcGUnOlxuICAgICAgICBjYXNlICdtb2JpbGUtcG9ydHJhaXQnOlxuICAgICAgICAgICAgZGV2aWNlID0gJ21vYmlsZSc7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY2xhc3NSZW1vdmUoaHRtbCwgWydtb2JpbGUnLCAndGFibGV0JywgJ3RhYmxldC1wb3J0cmFpdCcsICdkZXNrdG9wJ10pO1xuICAgIGh0bWwuY2xhc3NMaXN0LmFkZChkZXZpY2UpO1xuXG4gICAgcmV0dXJuIGRldmljZTtcbn1cblxuZnVuY3Rpb24gZG9uZVJlc2l6aW5nKCl7XG4gICAgZGV2aWNlKCk7XG4gICAgdmlld3BvcnQoKTtcblxuICAgIGxldCB3YXNNb2JpbGUgPSBpc01vYmlsZTtcblxuICAgIGh0bWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2JpbGUnKSA/IGlzTW9iaWxlID0gdHJ1ZSA6IGlzTW9iaWxlID0gZmFsc2U7XG5cbiAgICBpZiAod2FzTW9iaWxlICE9IGlzTW9iaWxlKSB7XG4gICAgICAgIC8vIGlzTW9iaWxlID8gbWVudS5jbG9zZURlc2t0b3BTZWFyY2goKSA6IG1lbnUuY2xvc2VNb2JpbGVNZW51KCk7XG4gICAgfVxufVxuXG4vLyBCYXNpYyBmdW5jdGlvbnMgdG8gYWRkIHJlbGV2YW50IGNsYXNzZXMgdG8gaHRtbCB0YWdcbnZpZXdwb3J0KCk7XG5kZXZpY2UoKTtcbnRvdWNoRW5hYmxlZCgpOyAgICAgXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpe1xuICAgIGNsZWFyVGltZW91dChyZXNpemVJZCk7XG4gICAgcmVzaXplSWQgPSBzZXRUaW1lb3V0KGRvbmVSZXNpemluZywgNTAwKTtcbn0pO1xuXG53aW5kb3cuaW5pdE1hcCA9IGluaXRNYXA7XG4iXX0="}